手头上在做的项目需要用到ds1302实时时钟，ds1302读出来的数据是BCD码，需要转换，写入也是。

BCD码
BCD是指用二进制来表示十进制数的编码，即用4位二进制来表示一位十进制数，因此4位二进制数表示最大的十进制数9（1001）,只取十六个数中的十个数。

比如：

BCD码：0x99(153)，该BCD码转换成十进制是99.

算法原理
十进制是逢十进一，而十六进制是逢十六进一，它们之间的每次进位差66，所以一个十进制数要转换成BCD码，要先算清多进位的位数，比如，十进制9999进位了99/10=999/10=9次，每次进位和十六进制进位相比差66，所以一共差了9×6=549×6=54，即99+54=15399+54=153（BCD）。BCD码转化成十进制码也一样。

代码
static uint8_t BCD2DEC(uint8_t bcd)  
{  
    return (bcd-(bcd>>4)*6);
}  

static uint8_t DEC2BCD(uint8_t dec)  
{  
    return (dec+(dec/10)*6);
} 
--------------------- 
作者：guanjianhe 
来源：CSDN 
原文：https://blog.csdn.net/guanjianhe/article/details/81452557 
版权声明：本文为博主原创文章，转载请附上博文链接！